{% extends 'base.html.twig' %}

{% block title %}Ver Mascotas - Mascotalia{% endblock %}

{% block body %}

    {# --- FONDO MARR칍N (Contenedor externo) --- #}
    <div style="background-color: #846355; min-height: 85vh; padding: 40px 0;">
        <div class="container">
            
            {# --- GRAN TARJETA BLANCA CENTRAL --- #}
            <div class="bg-white shadow-lg" style="border-radius: 12px; padding: 40px; min-height: 80vh;">
                
                {# T칤tulo #}
                <h2 class="text-center mb-4" style="color: #000; font-weight: bold; font-size: 1.8rem;">Encontr치 tu compa침ero</h2>

                {# Barra de Herramientas (Filtros y Ordenar) #}
                <div class="d-flex justify-content-center gap-3 mb-5">
                    
                    {# Bot칩n Filtros #}
                    <button class="btn text-white px-4" style="background-color: #0F5D3C; border-radius: 5px; font-weight: 500;">
                        Filtros
                    </button>

                    {# Dropdown Ordenar #}
                    <select class="form-select w-auto" style="border-radius: 5px; border-color: #ccc; min-width: 200px;">
                        <option selected>Ordenar por...</option>
                        <option value="1">M치s recientes</option>
                        <option value="2">Mayor edad</option>
                        <option value="3">Menor edad</option>
                    </select>
                </div>

                {# --- GRILLA DE MASCOTAS --- #}
                <div class="row g-4">
                    
                    {# CAMBIO: Ahora iteramos sobre la variable real 'mascotas' #}
                    {% for mascota in mascotas %}
                        <div class="col-md-6 col-lg-3">
                            
                            <div class="card h-100 border shadow-sm" style="border-radius: 12px; overflow: hidden;">
                                
                                <div style="height: 200px; overflow: hidden; background-color: #f8f9fa; display: flex; align-items: center; justify-content: center;">
                                    {# IMAGEN:
                                        Asumimos que en la base de datos guardaste el nombre del archivo (ej: "perro1.jpg")
                                        o una URL completa.
                                        Si guardaste URL completa (https://...), usa {{ mascota.imagen }} directo.
                                        Si guardaste nombre de archivo, usa {{ asset('images/' ~ mascota.imagen) }}
                                    #}
                                    <img src="{{ mascota.imagen }}" 
                                            alt="{{ mascota.nombre }}" 
                                            style="width: 100%; height: 100%; object-fit: cover; padding: 15px; border-radius: 25px;">
                                </div>

                                <div class="card-body text-center p-3">
                                    {# DATOS DIN츼MICOS #}
                                    <h5 class="card-title mb-1" style="font-weight: bold; font-size: 1.1rem;">
                                        {{ mascota.nombre }}
                                    </h5>
                                    
                                    <p class="card-text text-muted mb-3" style="font-size: 0.9rem;">
                                        {{ mascota.especie }} - {{ mascota.edad }} a침os
                                    </p>
                                    
                                    {# LINK AL DETALLE #}
                                    {# Nota: M치s adelante le pasaremos el ID, por ahora va al detalle gen칠rico #}
                                    <a href="{{ path('app_mascota_detalle', {'id': mascota.id}) }}" class="btn text-white btn-sm px-4" style="background-color: #0F5D3C; border-radius: 5px; font-size: 0.85rem;">
                                        Ver Detalles
                                    </a>
                                </div>
                            </div>
                            
                        </div>
                    {% else %}
                        {# ESTO SE MUESTRA SI LA LISTA EST츼 VAC칈A (FA01) #}
                        <div class="col-12 text-center py-5">
                            <h4 class="text-muted">No hay mascotas disponibles actualmente 游</h4>
                        </div>
                    {% endfor %}

                </div>
                {# Fin de la fila #}

            </div>
            {# Fin de tarjeta blanca #}

        </div>
    </div>

{% endblock %}